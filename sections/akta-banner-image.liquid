<div class="akta-banner">
  <div class="akta-banner-wrapper">
    <!-- Left text content -->
    <div class="akta-banner-text">
      <div class="akta-banner-text-wrapper">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'heading' %}
              <h2 class="banner-heading" {{ block.shopify_attributes }}>{{ block.settings.heading }}</h2>

            {% when 'sub_heading' %}
              <p class="banner-subheading" {{ block.shopify_attributes }}>{{ block.settings.subheading }}</p>

            {% when 'discount_img' %}
              <div class="banner-discount" {{ block.shopify_attributes }}>
                <img src="{{ block.settings.discount_img | image_url }}" alt="discount percentage Image">
              </div>

            {% when 'description' %}
              <div class="banner-description" {{ block.shopify_attributes }}>{{ block.settings.description }}</div>

            {% when 'button' %}
              <a href="{{ block.settings.button_link }}" class="banner-button" {{ block.shopify_attributes }}>
                {{ block.settings.button_label }}
              </a>
          {% endcase %}
        {% endfor %}
      </div>
    </div>
  </div>

  {% if section.settings.banner_image_desktop or section.settings.banner_image_mobile %}
    <div class="akta-banner-bg">
      <picture>
        {% if section.settings.banner_image_mobile %}
          <source
            media="(max-width: 767px)"
            srcset="{{ section.settings.banner_image_mobile | image_url: width: 767 }}"
          >
        {% endif %}
        {% if section.settings.banner_image_desktop %}
          <source
            media="(min-width: 768px)"
            srcset="{{ section.settings.banner_image_desktop | image_url: width: 2000 }}"
          >
        {% endif %}
        <img
          src="{{ section.settings.banner_image_desktop | image_url: width: 1200 }}"
          alt="{{ section.settings.alt_text | escape }}"
        >
      </picture>
    </div>
  {% endif %}
</div>

<style>
  .akta-banner {
    position: relative;
    overflow: hidden;
    padding: 50px 0;
    display: flex;
    align-items: center;
  }

  .akta-banner-wrapper {
    position: relative;
    display: flex;
    width: 100%;
    z-index: 2; /* text stays above background */
    gap: 15px;
    padding: 0 30px;
  }

  .akta-banner-text-wrapper {
    max-width: 500px;
    margin-left: auto;
    text-align: center;
    color: #f8badb;
  }

  .banner-heading {
    font-size: 36px;
    font-weight: 700;
    margin-bottom: 1rem;
    font-family: "GFS Didot", serif;
  }

  .banner-subheading {
    font-size: 1.25rem;
    margin-bottom: 1.5rem;
  }

  .banner-description {
    font-size: 20px;
    margin-bottom: 1.5rem;
    font-weight: 500;
    margin-top: 20px;
    font-family: "Roboto", sans-serif;
  }

  .banner-button {
    display: block;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(to right, #ff6699a6, #ff339985);
    color: #fff;
    font-weight: 500;
    font-size: 28px;
    border-radius: 50px;
    text-decoration: none;
    transition: 0.3s ease;
    font-family: "GFS Didot", serif;
  }

  .banner-button:hover {
    opacity: 0.9;
  }

  /* Absolute background image */
  .akta-banner-bg {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-size: cover;
    background-position: center;
    z-index: 1;
    overflow: hidden;
  }

  .akta-banner-bg img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  .banner-discount {
    max-width: 370px;
    margin: auto;
    }

  /* Mobile adjustments */
  @media(max-width: 768px) {
    .akta-banner-wrapper {
      flex-direction: column;
      text-align: center;
    }
    .banner-discount {
    max-width: 300px;

    }


    .akta-banner-bg {
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
    }

    .akta-banner-text-wrapper {
      max-width: 100%;
    }
  }
</style>

{% schema %}
{
  "name": "Banner with Text",
  "settings": [
    {
      "type": "image_picker",
      "id": "banner_image_desktop",
      "label": "Desktop Banner Image"
    },
    {
      "type": "image_picker",
      "id": "banner_image_mobile",
      "label": "Mobile Banner Image"
    },
    {
      "type": "text",
      "id": "alt_text",
      "label": "Image Alt Text",
      "default": "Banner Image"
    }
  ],
  "blocks": [
    {
      "type": "heading",
      "name": "Heading",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Spa Glow Experience"
        }
      ]
    },
    {
      "type": "sub_heading",
      "name": "Subheading",
      "settings": [
        {
          "type": "text",
          "id": "subheading",
          "label": "Subheading",
          "default": "~80% Off"
        }
      ]
    },
    {
      "type": "discount_img",
      "name": "Discount Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "discount_img",
          "label": "Discount Image"
        }
      ]
    },
    {
      "type": "description",
      "name": "Description",
      "settings": [
        {
          "type": "richtext",
          "id": "description",
          "label": "Description",
          "default": "<p>This is your banner description text.</p>"
        }
      ]
    },
    {
      "type": "button",
      "name": "Button",
      "settings": [
        {
          "type": "text",
          "id": "button_label",
          "label": "Button Label",
          "default": "Shop now"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Banner with Text",
      "category": "Image",
      "blocks": [{ "type": "heading" }, { "type": "sub_heading" }, { "type": "description" }, { "type": "button" }]
    }
  ]
}
{% endschema %}
